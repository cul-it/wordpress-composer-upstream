{
    "name": "cul-upstreams/upstream-config",
    "type": "project",
    "version": "1.0.2",
    "repositories": [
        {
            "type": "composer",
            "url": "https://wpackagist.org"
        }
    ],
    "require": {
        "php": ">=7.2",
        "composer/installers": "^1.3.0",
        "pantheon-systems/quicksilver-pushback": "^2",
        "pantheon-systems/wordpress-composer": "*",
        "pantheon-systems/wp-saml-auth": "2.0.1",
        "roots/wp-password-bcrypt": "^1.0.0",
        "simplesamlphp/simplesamlphp": "1.18.6",
        "vlucas/phpdotenv": "^3.1.0",
        "wpackagist-plugin/lh-hsts": "^1.24",
        "wpackagist-plugin/pantheon-advanced-page-cache": ">=0.3.0",
        "wpackagist-plugin/wp-native-php-sessions": ">=0.6.9",
        "wpackagist-theme/twentynineteen": "^1.2",
        "wp-coding-standards/wpcs": "^1.2.1"
    },
    "require-dev": {
        "behat/mink-goutte-driver": "^1.2.1",
        "brain/monkey": "^2.2.0",
        "dealerdirect/phpcodesniffer-composer-installer": "^0.5.0",
        "dmore/behat-chrome-extension": "^1.2",
        "genesis/behat-fail-aid": "^2.1",
        "paulgibbs/behat-wordpress-extension": "^3.3.0",
        "phpunit/phpunit": "^7.5.1",
        "roave/security-advisories": "dev-master",
        "squizlabs/php_codesniffer": "^3.4.0"
    },
    "config": {
        "allow-plugins": {
            "simplesamlphp/composer-module-installer": true
        }
    },
    "scripts": {
         "pre-install-cmd": [
            "rm -f ./vendor/simplesamlphp/simplesamlphp/config/config.php",
            "rm -f ./vendor/simplesamlphp/simplesamlphp/config/authsources.php",
            "rm -f ./vendor/simplesamlphp/simplesamlphp/metadata/saml20-idp-remote.php",
            "rm -f ./vendor/simplesamlphp/simplesamlphp/metadata/shib13-idp-remote.php"
        ],
        "post-install-cmd": [
            "@cleanup",
            "WordPressProject\\composer\\ScriptHandler::createRequiredFiles",
            "ln -s ../../../../private/simplesaml/config/config.php ./vendor/simplesamlphp/simplesamlphp/config/config.php",
            "ln -s ../../../../private/simplesaml/config/authsources.php ./vendor/simplesamlphp/simplesamlphp/config/authsources.php",
            "ln -s ../../../../private/simplesaml/metadata/saml20-idp-remote.php ./vendor/simplesamlphp/simplesamlphp/metadata/saml20-idp-remote.php",
            "ln -s ../../../../private/simplesaml/metadata/shib13-idp-remote.php ./vendor/simplesamlphp/simplesamlphp/metadata/shib13-idp-remote.php"
        ]
    }
}
